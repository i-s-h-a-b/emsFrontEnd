<div class="container mt-3">
  <h2>Add SME</h2>

  <form *ngIf="!createdSme()" [formGroup]="form" (ngSubmit)="submit()" class="card p-3 shadow-sm">

    <div *ngIf="errorMessage()" class="alert alert-danger">
      {{ errorMessage() }}
    </div>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label>First Name *</label>
        <input class="form-control" formControlName="fname">
      </div>

      <div class="col-md-6 mb-3">
        <label>Last Name *</label>
        <input class="form-control" formControlName="lname">
      </div>
    </div>

    <div class="mb-3">
      <label>Mobile Number *</label>
      <input class="form-control" formControlName="mobileNumber">
    </div>

    <div class="mb-3">
      <label>Email *</label>
      <input class="form-control" formControlName="userEmail">
    </div>

    <div class="row">
      <div class="col-md-6 mb-3">
        <label>Username *</label>
        <input class="form-control" formControlName="username">
      </div>

      <div class="col-md-6 mb-3">
        <label>Password *</label>
        <input type="password" class="form-control" formControlName="password">
      </div>
    </div>

    <button class="btn btn-primary" [disabled]="isLoading() || form.invalid">
      <span *ngIf="isLoading()" class="spinner-border spinner-border-sm me-2"></span>
      Create SME
    </button>

    <button type="button" class="btn btn-secondary ms-2" (click)="reset()">Reset</button>
  </form>

  <!-- Success -->
  <div *ngIf="createdSme()" class="card p-4 mt-3 text-center shadow-sm">
    <h4 class="text-success">SME Created Successfully</h4>
    <p><strong>Employee ID:</strong> {{ createdSme()?.employeeId }}</p>
    <p><strong>Name:</strong> {{ createdSme()?.fname }} {{ createdSme()?.lname }}</p>
    <p><strong>Email:</strong> {{ createdSme()?.userEmail }}</p>

    <button class="btn btn-outline-primary mt-2" (click)="reset()">Add Another</button>
  </div>
</div>
